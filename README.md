# TgBOT - –ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç

![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram)
![Go](https://img.shields.io/badge/Go-1.16+-00ADD8?logo=go)

*Read this in [English](#tgbot---multifunctional-telegram-bot)*

## üìù –û–ø–∏—Å–∞–Ω–∏–µ

TgBOT - —ç—Ç–æ –º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π Telegram –±–æ—Ç, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ —è–∑—ã–∫–µ Go, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–∞–∑–ª–∏—á–Ω—ã–µ
–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

- üè† **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –¥–æ–º–æ–º** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –£–º–Ω—ã–º –¥–æ–º–æ–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏
- üåê **–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞** - –ø–µ—Ä–µ–≤–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ø–Ω–¥–µ–∫—Å API
- üéØ **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º** - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, —á–µ–º –∑–∞–Ω—è—Ç—å—Å—è, –∫–æ–≥–¥–∞ —Å–∫—É—á–Ω–æ
- üéØ **–ü–æ–∫–∞–∑–∞—Ç—å —Å—Å—ã–ª–∫—É –Ω–∞ –ø–æ–¥–±–æ—Ä–∫—É –æ—Ç–ª–∏—á–Ω—ã—Ö —Ñ–∏–ª—å–º–æ–≤** - —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–æ–π —Å–∞–π—Ç —Å–æ —Å–ø–∏—Å–∫–æ–º —Ñ–∏–ª—å–º–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Dependency Injection –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏
—á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞ –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏.

P.s.- —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª –Ω–∞–ø–∏—Å–∞–Ω –º–Ω–æ–π –¥–ª—è –ª–∏—á–Ω–æ–≥–æ —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∏—Ö —É–º–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ —Å–∏–ª—å–Ω–æ
—É–Ω–∏–≤–µ—Ä—Å–∞–ª–µ–Ω.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –Ø–Ω–¥–µ–∫—Å –£–º–Ω—ã–º –¥–æ–º–æ–º**
    - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ OAuth
    - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ (–≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ)

- **–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞**
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —è–∑—ã–∫–∞
    - –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ø–Ω–¥–µ–∫—Å API

- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º**
    - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –∑–∞–Ω—è—Ç–∏–π
    - –†–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Go** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
- **Telegram Bot API** - –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å Telegram
- **–Ø–Ω–¥–µ–∫—Å API** - –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É–º–Ω—ã–º –¥–æ–º–æ–º
- **TLS** - –¥–ª—è –∑–∞—â–∏—Ç—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- **Logrus** - –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.16 –∏–ª–∏ –≤—ã—à–µ
- –î–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –¢–æ–∫–µ–Ω Telegram –±–æ—Ç–∞
- –¢–æ–∫–µ–Ω—ã –Ø–Ω–¥–µ–∫—Å API (–¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ –∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞)

## üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/DenisKhanov/TgBOT.git
   cd TgBOT
   ```

2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é TLS —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞:
   ```
   –í —Ñ–∞–π–ª–µ /pkg/tls_config/cert/server/san.cnf 
   –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É 
   ```
   `[alt_names]`

   `IP.1 = 176.108.251.250 #it's ip address your server`
   ```
   –í–ø–∏—à–∏—Ç–µ —Å—é–¥–∞ –≤–Ω–µ—à–Ω–∏–π ip –∞–¥—Ä–µ—Å —Å–≤–æ–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞,
   —á—Ç–æ–±—ã —Å–≥–µ–Ω–∏—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å –≤–µ—Ä–Ω—ã–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
   ```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `server.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
   ```
   LOG_LEVEL=info (—É—Ä–æ–≤–µ–Ω—å_–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
   LOG_FILE_NAME=Server.log (–∏–º—è_—Ñ–∞–π–ª–∞_–¥–ª—è_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è_–ª–æ–≥–æ–≤)
   OAUTH_ENDPOINT=https://oauth.yandex.ru/token (–ø—É—Ç—å_–¥–ª—è_–ø–æ–ª—É—á–µ–Ω–∏—è_—Ç–æ–∫–µ–Ω–∞_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞)
   HTTPS_SERVER=localhost:8080 (–∞–¥—Ä–µ—Å_–Ω–∞_–∫–æ—Ç–æ—Ä–æ–º_–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è_—Å–µ—Ä–≤–µ—Ä)
   SERVER_CERT_FILE=/pkg/tls_config/cert/server/server.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   SERVER_KEY_FILE=/pkg/tls_config/cert/server/server.key (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   SERVER_CA_FILE=/pkg/tls_config/cert/server/ca.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_ID=_______________________ (ID_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client) 
   CLIENT_SECRET=________________________ (secret_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client) 
   API_KEY=__________________________ (–∫–ª—é—á_–¥–ª—è_—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π_–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏_–Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ_–¥–æ—Å—Ç—É–ø–∞_–∫_—Å–µ—Ä–≤–µ—Ä—É)
   ```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `bot.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:
   ```
   LOG_LEVEL=info (—É—Ä–æ–≤–µ–Ω—å_–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
   LOG_FILE_NAME=Bot.log (–∏–º—è_—Ñ–∞–π–ª–∞_–¥–ª—è_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è_–ª–æ–≥–æ–≤)
   FILE_STORAGE_PATH=./keep_chat.json (—Ñ–∞–π–ª_–∫—É–¥–∞_—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è_–∏—Å—Ç–æ—Ä–∏—è_—Å–æ—Å—Ç–æ—è–Ω–∏—è_—á–∞—Ç–∞)
   TOKEN_BOT=________:_____________________ (—Ç–æ–∫–µ–Ω_–¢–ì_–±–æ—Ç–∞)
   TOKEN_YANDEX=Api-Key ____________________________ (—Ç–æ–∫–µ–Ω_—è–Ω–¥–µ–∫—Å_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞)
   SERVER_ENDPOINT="https://localhost:8080" (—ç–Ω–¥–ø–æ–∏–Ω—Ç_–¥–ª—è_–∑–∞–ø—Ä–æ—Å–∞_—Ç–æ–∫–µ–Ω–∞_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞_—É_—Å–µ—Ä–≤–µ—Ä–∞)
   CLIENT_ID=_______________________ (ID_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client)
   OWNER_ID=_______________________ (ID_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–±–æ—Ç–∞_–¥–ª—è_–¥–æ—Å—Ç—É–ø–∞_–∫_—É–º–Ω–æ–º—É_–¥–æ–º—É)
   CLIENT_CERT_FILE=/pkg/tls_config/cert/client/client.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_KEY_FILE=/pkg/tls_config/cert/client/client.key (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_CA_FILE=/pkg/tls_config/cert/server/ca.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   API_KEY=___________________________ (–∫–ª—é—á_–¥–ª—è_—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π_–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏_–Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ_–¥–æ—Å—Ç—É–ø–∞_–∫_—Å–µ—Ä–≤–µ—Ä—É)
   ```

## üöÄ –ó–∞–ø—É—Å–∫

### –û–±—ã—á–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
make run
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ systemd

```bash
make start-systemd
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
make stop
```

–∏–ª–∏

```bash
make stop-systemd
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
make test
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TgBOT/
‚îú‚îÄ‚îÄ cmd/                      # –¢–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ server/               # –°–µ—Ä–≤–µ—Ä –¥–ª—è OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ tgbot/                # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ internal/                 # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ app/                  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ logcfg/               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ server/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ tg_bot/               # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Telegram –±–æ—Ç–∞
‚îú‚îÄ‚îÄ pkg/                      # –ü—É–±–ª–∏—á–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ tls_config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TLS
‚îî‚îÄ‚îÄ makefile                  # –§–∞–π–ª —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
```

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–í–∫–ª–∞–¥—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–ª–µ–¥—É–π—Ç–µ —ç—Ç–∏–º —à–∞–≥–∞–º:

1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (`git checkout -b feature/amazing-feature`)
3. –ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add some amazing feature'`)
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –≤–µ—Ç–∫—É (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ò–º—è - [Denis Khanov](https://t.me/DenKhan)

–°—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç: [https://github.com/DenisKhanov/TgBOT](https://github.com/DenisKhanov/TgBOT)

---

# TgBOT - Multifunctional Telegram Bot

![Telegram Bot](https://img.shields.io/badge/Telegram-Bot-blue?logo=telegram)
![Go](https://img.shields.io/badge/Go-1.16+-00ADD8?logo=go)

*–ß–∏—Ç–∞—Ç—å –Ω–∞ [—Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ](#tgbot---–º–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π-telegram-–±–æ—Ç)*

## üìù Description

TgBOT2 is a multifunctional Telegram bot written in Go that provides users with various capabilities:

- üè† **Smart Home Control** - integration with Yandex Smart Home to control devices
- üåê **Text Translation** - message translation using Yandex API
- üéØ **Activity Recommendations** - suggestions on what to do when bored
- üéØ **Show a link to a selection of great movies** - a link to my website with a list of movies by category.

The bot uses a modern architecture with the Dependency Injection pattern for managing dependencies and clean code for
better maintainability and extensibility.

## üöÄ Features

- **Yandex Smart Home Integration**
    - OAuth authorization
    - Device listing
    - Device control (on/off)

- **Text Translation**
    - Automatic language detection
    - Text translation using Yandex API

- **Activity Recommendations**
    - Interesting activity suggestions
    - Various activity categories

## üõ†Ô∏è Technologies

- **Go** - main programming language
- **Telegram Bot API** - for Telegram interaction
- **Yandex API** - for translation and smart home control
- **TLS** - for secure connections
- **Logrus** - for logging

## üìã Requirements

- Go 1.16 or higher
- Internet access
- Telegram bot token
- Yandex API tokens (for translation and smart home)

## üì• Installation

1. Clone the repository:
   ```bash
   git clone https://github.com/DenisKhanov/TgBOT.git
   cd TgBOT
   ```

2. Configure TLS certificate generation:
   ```
    In the /pkg/tls_config/cert/server/san.cnf file 
   edit the line
   ```
   `[alt_names]`

   `IP.1 = 176.108.251.250 #it's ip address your server`
   ```
   Enter the external ip address of your server here,
   to generate the correct certificates
   ```

## ‚öôÔ∏è Configuration

Before running, you need to configure:

1. Create a `server.env` file with the following content:
   ```
   LOG_LEVEL=info (—É—Ä–æ–≤–µ–Ω—å_–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
   LOG_FILE_NAME=Server.log (–∏–º—è_—Ñ–∞–π–ª–∞_–¥–ª—è_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è_–ª–æ–≥–æ–≤)
   OAUTH_ENDPOINT=https://oauth.yandex.ru/token (–ø—É—Ç—å_–¥–ª—è_–ø–æ–ª—É—á–µ–Ω–∏—è_—Ç–æ–∫–µ–Ω–∞_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞)
   HTTPS_SERVER=localhost:8080 (–∞–¥—Ä–µ—Å_–Ω–∞_–∫–æ—Ç–æ—Ä–æ–º_–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è_—Å–µ—Ä–≤–µ—Ä)
   SERVER_CERT_FILE=/pkg/tls_config/cert/server/server.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   SERVER_KEY_FILE=/pkg/tls_config/cert/server/server.key (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   SERVER_CA_FILE=/pkg/tls_config/cert/server/ca.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_ID=_______________________ (ID_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client) 
   CLIENT_SECRET=________________________ (secret_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client) 
   API_KEY=__________________________ (–∫–ª—é—á_–¥–ª—è_—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π_–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏_–Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ_–¥–æ—Å—Ç—É–ø–∞_–∫_—Å–µ—Ä–≤–µ—Ä—É)
   ```

2. Create a `bot.env` file with the following content:
   ```
   LOG_LEVEL=info (—É—Ä–æ–≤–µ–Ω—å_–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è)
   LOG_FILE_NAME=Bot.log (–∏–º—è_—Ñ–∞–π–ª–∞_–¥–ª—è_—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è_–ª–æ–≥–æ–≤)
   FILE_STORAGE_PATH=./keep_chat.json (—Ñ–∞–π–ª_–∫—É–¥–∞_—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è_–∏—Å—Ç–æ—Ä–∏—è_—Å–æ—Å—Ç–æ—è–Ω–∏—è_—á–∞—Ç–∞)
   TOKEN_BOT=________:_____________________ (—Ç–æ–∫–µ–Ω_–¢–ì_–±–æ—Ç–∞)
   TOKEN_YANDEX=Api-Key ____________________________ (—Ç–æ–∫–µ–Ω_—è–Ω–¥–µ–∫—Å_–ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞)
   SERVER_ENDPOINT="https://localhost:8080" (—ç–Ω–¥–ø–æ–∏–Ω—Ç_–¥–ª—è_–∑–∞–ø—Ä–æ—Å–∞_—Ç–æ–∫–µ–Ω–∞_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞_—É_—Å–µ—Ä–≤–µ—Ä–∞)
   CLIENT_ID=_______________________ (ID_–≤–Ω–µ—à–Ω–µ–≥–æ_–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è_—É–º–Ω–æ–≥–æ_–¥–æ–º–∞ https://oauth.yandex.ru/client)
   OWNER_ID=_______________________ (ID_–≤–ª–∞–¥–µ–ª—å—Ü–∞_–±–æ—Ç–∞_–¥–ª—è_–¥–æ—Å—Ç—É–ø–∞_–∫_—É–º–Ω–æ–º—É_–¥–æ–º—É)
   CLIENT_CERT_FILE=/pkg/tls_config/cert/client/client.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_KEY_FILE=/pkg/tls_config/cert/client/client.key (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   CLIENT_CA_FILE=/pkg/tls_config/cert/server/ca.crt (–ø—É—Ç—å_TLS_–∫_–∫–ª—é—á–∞–º_–∏_—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞–º)
   API_KEY=___________________________ (–∫–ª—é—á_–¥–ª—è_—É–ø—Ä–æ—â–µ–Ω–Ω–æ–π_–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏_–Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ_–¥–æ—Å—Ç—É–ø–∞_–∫_—Å–µ—Ä–≤–µ—Ä—É)
   ```

## üöÄ Running

### Normal Run

```bash
make run
```

### Run via systemd

```bash
make start-systemd
```

### Stopping

```bash
make stop
```

or

```bash
make stop-systemd
```

## üß™ Testing

```bash
make test
```

## üìÅ Project Structure

```
TgBOT/
‚îú‚îÄ‚îÄ cmd/                      # Application entry points
‚îÇ   ‚îú‚îÄ‚îÄ server/               # Server for OAuth authorization
‚îÇ   ‚îî‚îÄ‚îÄ tgbot/                # Telegram bot
‚îú‚îÄ‚îÄ internal/                 # Internal application code
‚îÇ   ‚îú‚îÄ‚îÄ app/                  # Application initialization and running
‚îÇ   ‚îú‚îÄ‚îÄ logcfg/               # Logging configuration
‚îÇ   ‚îú‚îÄ‚îÄ server/               # Server components
‚îÇ   ‚îî‚îÄ‚îÄ tg_bot/               # Telegram bot components
‚îú‚îÄ‚îÄ pkg/                      # Public packages
‚îÇ   ‚îî‚îÄ‚îÄ tls_config/           # TLS configuration
‚îî‚îÄ‚îÄ makefile                  # Project build file
```

## ü§ù Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

## üìÑ License

## üìû Contact

Your Name - [Denis Khanov](https://t.me/DenKhan)

Project Link: [https://github.com/DenisKhanov/TgBOT](https://github.com/DenisKhanov/TgBOT)
